<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Chuanwei Li | 个人网站</title>
    <link rel="icon" href="img/blog.svg" type="image/svg+xml">
    <link rel="stylesheet" href="css/app.css">
</head>
<body>
    <div id="app">
        <div id="loading" style="display: none;">
        </div>
        <div id="menubox">
        </div>
        <div class="time">
            <svg viewbox='0 0 7 14'>
                <polygon points="7,7 0,7 0,0 7,0 7,7 7,14 0,14 0,7 7,7" />
            </svg>
            <svg viewbox='0 0 7 14'>
                <polygon points="7,7 0,7 0,0 7,0 7,7 7,14 0,14 0,7 7,7" />
            </svg>
            <svg viewbox='0 0 0.5 14' >
                <circle cx="0.5" cy="6" r="0.5" fill="var(--theme_green)" stroke="none"/>
                <circle cx="0.5" cy="8" r="0.5" fill="var(--theme_green)" stroke="none" />
            </svg>
            <svg viewbox='0 0 7 14'>
                <polygon points="7,7 0,7 0,0 7,0 7,7 7,14 0,14 0,7 7,7" />
            </svg>
            <svg viewbox='0 0 7 14'>
                <polygon points="7,7 0,7 0,0 7,0 7,7 7,14 0,14 0,7 7,7" />
            </svg>
            <svg viewbox='0 0 0.5 14' >
                <circle cx="0.5" cy="6" r="0.5" fill="var(--theme_green)" stroke="none" />
                <circle cx="0.5" cy="8" r="0.5" fill="var(--theme_green)" stroke="none" />
            </svg>
            <svg viewbox='0 0 7 14'>
                <polygon points="7,7 0,7 0,0 7,0 7,7 7,14 0,14 0,7 7,7" />
            </svg>
            <svg viewbox='0 0 7 14'>
                <polygon points="7,7 0,7 0,0 7,0 7,7 7,14 0,14 0,7 7,7" />
            </svg>
        </div>
        <div id="home">
            <div id="scrollbar" style="--p:0;">
            </div>
           <div class="home_welcome">
               <div class="home_welcome_lines">
                   <div></div>
                   <div></div>
                   <div></div>
                   <div></div>
                   <div></div>
               </div>
               <div class="home_welcome_background" style="translate: none; rotate: none; scale: none; transform: rotate(-5.53957deg);">
                   <img src="img/blurb.webp" alt="blurb" class="blurb1" style="translate: none; rotate: none; scale: none; transform: translate(83px, 0px);">
                   <img src="img/blurb.webp" alt="blurb" class="blurb2" style="translate: none; rotate: none; scale: none; transform: translate(-83px, 0px);">
               </div>
               <div class="home_welcome_logo">
               </div>
               <div class="home_welcome_main">
                   <div class="title">
                       <div style="translate: none; rotate: none; scale: none; transform: translate(0px, 0px); opacity: 1;">
                           <p style="color: var(--theme_white);">be wild!</p>
                       </div>
                       <div style="translate: none; rotate: none; scale: none; transform: translate(0px, 0px); opacity: 1;">
                           <p style="color: var(--theme_green);">creative!</p>
                       </div>
                       <div style="translate: none; rotate: none; scale: none; transform: translate(0px, 0px); opacity: 1;">
                           <p style="color: var(--theme_white);">
                               <span>and</span>
                               cool!
                           </p>
                       </div>
                   </div>
                   <svg viewBox="0 0 500 500" class="home_welcome_nobody" style="translate: none; rotate: none; scale: none; transform: rotate(15deg);">
                       <image width="500" height="500" href="img/nobody.svg" class="hwv_circle">
                       </image>
                       <circle cx="168.5" cy="187.8" r="21.5" class="hwv_eye">
                       </circle>
                       <circle cx="331.5" cy="187.8" r="21.5" class="hwv_eye">
                       </circle>
                       <path d="M 374.3,307.9c0,0-7.2-15.8-27.9-13.3c-13.4,2-19.7,9.3-24.3,19.5c-4.6,
                        10.3-10.9,19.5-24.3,19.5s-20.2-8.1-24.3-19.5c-4.2-11.4-10.4-19.8-23.8-19.5c-13.4,
                        0.2-19.7,8.1-23.8,19.5s-10.9,19.5-24.3,19.5c-13.4,0-19.7-9.3-24.3-19.5s-11-17.5-24.3
                        -19.5c-20.7-2.5-27.9,13.3-27.9,13.3" class="hwv_mouse"></path>
                   </svg>
               </div>
               <div class="home_welcome_scrolltip">
               </div>
           </div>

        </div>
    </div>
</body>
<script>
    // 用getTotalLength获取线段总长为56，每一条边长为56 / 8=7，线段间隔为线段边长的六分之一，间隔为0.5，边长成为6
    console.log(document.querySelector("polygon").getTotalLength());
    // dasharray_data里面的每一个数组所储存的是对应数字的八条边信息，数组内排列顺序为划线顺序，
    // 划线顺序可通过polygon标签看出，某一条边为实线则为1，没有则为0
    let dasharray_data = [
        [0, 1, 1, 1, 1, 1, 1, 0],//0
        [0, 0, 0, 1, 1, 0, 0, 0],//1
        [1, 0, 1, 1, 0, 1, 1, 0],//2
        [1, 0, 1, 1, 1, 1, 0, 0],//3
        [1, 1, 0, 1, 1, 0, 0, 0],//4
        [1, 1, 1, 0, 1, 1, 0, 0],//5
        [1, 1, 1, 0, 1, 1, 1, 0],//6
        [0, 0, 1, 1, 1, 0, 0, 0],//7
        [1, 1, 1, 1, 1, 1, 1, 0],//8
        [1, 1, 1, 1, 1, 1, 0, 0],//9
    ];
    // 将dasharray_data的划线信息转换为为css的stroke-dasharray字符串信息
    dasharray_data = dasharray_data.map(arry => {
        // 第一个位置在stroke-dasharray为实线描边，需为0
        let str = "0";
        arry.forEach(nums => {
            // 如果当前边为实线，则按照‘间隙，实线，间隙’设置
            if (nums) str += ' 0.5 6 0.5 0';
            // 如果当前边为空白，则按照‘一大段间隙’设置
            else str += ' 7 0';
        });
        return str;
    });
    // 获取所有的polygon标签
    let polygons = [...document.querySelectorAll('polygon')];
    // 每1秒更新界面的时间信息
    setInterval(() => {
        // 将时、分、秒直接转换为两位数字数组，例如12.19.25转化为[1,2,1,9,2,5]
        let times = [
            new Date().getHours(),
            new Date().getMinutes(),
            new Date().getSeconds()
        ].flatMap(time => [Math.floor(time / 10), time % 10]);
        // 将时间所对应的描边信息，设置到对应位置polygon元素上去
        polygons.forEach((ele, index) => {
            ele.style.strokeDasharray = dasharray_data[times[index]];
        });
    }, 1000);
</script>
</html>